// Generated by CoffeeScript 1.10.0
(function() {
  var csonParser, fsExtra, readFile, readFileSync;

  csonParser = require('cson-parser');

  fsExtra = require('fs-extra');

  readFile = function(filePath, done) {
    return fsExtra.readFile(filePath, 'utf8', function(err, data) {
      var error, field, i, len, parseErr, ref, result;
      if (err) {
        return done(err);
      }
      try {
        result = csonParser.parse(data);
      } catch (error) {
        parseErr = error;
        ref = ['message', 'stack'];
        for (i = 0, len = ref.length; i < len; i++) {
          field = ref[i];
          parseErr[field] = parseErr[field].replace('stdin', filePath);
        }
        return done(parseErr);
      }
      return done(null, result);
    });
  };

  readFileSync = function(filePath) {
    var data;
    data = fsExtra.readFileSync(filePath, 'utf8');
    return csonParser.parse(data);
  };

  module.exports = {
    readFile: readFile,
    readFileSync: readFileSync
  };

}).call(this);
